#CPTAC_Colon_Proteogenomic_Events_membrane = '12_14_2015_CPTAC_Colon_Proteogenomic_Events_membrane.txt'
#CSSHTMLBuild(CPTAC_Colon_Proteogenomic_Events_membrane)


def CSSHTMLBuildFilter(inputfile,spect_task_id=''):
    css_table_header = '''<!DOCTYPE html>\n\
    <html>\n\
    <head>\n\


    <script src="../sorttable.js"></script>\n\

    <style type="text/css">\n\

/* Sortable tables */
table.sortable thead {\n\
    background-color:#eee;\n\
    color:#666666;\n\
    font-weight: bold;\n\
    cursor: default;\n\
}\n\
 table.sortable th:not(.sorttable_sorted):not(.sorttable_sorted_reverse):not(.sorttable_nosort):after {
    content: '\\25B4\\25BE'
}\n\

#customers {\n\
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;\n\
    border-collapse: collapse;\n\
    width: 100%;\n\
}\n\

#customers td, #customers th {\n\
    border: 1px solid #ddd;\n\
    padding: 8px;\n\
}\n\

#customers tr:nth-child(even){background-color: #f2f2f2;}\n\
#customers tr:hover {background-color: #ddd;}\n\
#customers th {\n\
    padding-top: 12px;\n\
    padding-bottom: 12px;\n\
    text-align: left;\n\
    background-color: #4CAF50;\n\
    color: white;\n\
}\n\
\n\
    </style>\n\

    </head>\n\
    <body>\n\


  <h1  align="center">Proteogenomics Event Validation (PEV) Results</h1>\n\


<table class="sortable" id="customers">\n\
    	
    <thead>\n\
      <tr>\n\
        <th><a href=" " title="Event identifier: Same ID as in -i input event file." >EventID</a></th>\n\
        <th><a href=" " title="Novel peptide sequence from input:  Peptide sequence from -i input event file.">Novel_Peptide</a></th>\n\
        <th><a href=" " title="Rescored Novel Peptide: Novel_Peptide sequence from MSGF+ search. Should be the same as Novel_Peptide or NA (indicates not found from MSGF+ search).">Rescored Novel Peptide</a></th>\n\
        <th><a href=" " title="Alternative Reference Sequence: Reference sequence reported from MSGF+ search.">Alternative_Reference_Sequence</a></th>\n\
        <th><a href=" " title="UniProt ID for Alternative Reference: Protein ID (UniProt) for reported reference sequence.">UniProtID</a></th>\n\
        <th><a href=" " title="Variant Type: Description of variation type from -i input event file. ">Variant_Type</a></th>\n\
        <th><a href=" " title="PEV Score: Computed PEV score.">PEV_Score</a></th>\n\
        <th><a href=" " title="PEV Category: PEV+ when PEV_Score>0. This indicates proteogenomics (novel) peptide is better than reference peptides. PEV- when PEV_Score<0. This indicates reference peptide is better than novel peptide. PEVzero when PEV_Score==0. This indicates novel peptide and reference peptides are equally posible match. PEVexact-reference indicates that input novel peptide is matched exactly with a reference peptide sequence. PEVunscored indicates all the MSGF+ PSMs are reported with a spectrum level P-value greater than 0.05 (insignificant). 1 is good and represent unambiguous mapping.">PEV_Category</a></th>\n\
        <th><a href=" " title="All Higher Scored Alternative Reference: When one or more reference peptide is better than novel peptide this shows the better scored reference peptides." >Alternatives</a></th>\n\
        <th><a href=" " title="All Higher Scored Alternative Reference ProteinID: Protein ID (UniProt) for all the better scored reference peptides.">AlternativesID</a></th>\n\
      </tr>\n\
     </thead>\n\
     <tbody>\n'''
     
    #<th>Reference_Peptide</th>\n\
    htmlfile=inputfile+'.html' 
        
    with open(inputfile,'r') as data, open(htmlfile,'w') as html_file:
        
        data_lines = data.readlines()[1:]
        html_file.write(css_table_header)

            
        for item in data_lines:
            
            item_list = item.split('\t')
            
            html_file.write('  <tr>\n')

            for i, item in enumerate(item_list):
                #Event_ID
                dt = item.strip('\n')
                if dt=='':
                    dt='-'
                    
                html_file.write('    <td align="center">%s</td>\n'%(dt))
                        
            html_file.write('  </tr>\n')
        html_file.write('</tbody>\n</table>\n\n</div>\n</body>\n</html>\n')









